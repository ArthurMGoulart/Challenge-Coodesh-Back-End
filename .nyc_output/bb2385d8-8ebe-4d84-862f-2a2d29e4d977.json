{"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Article.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Article.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":61}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":65}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":23}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":28}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":31}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":45}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":41}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":47}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":45}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":45}},"13":{"start":{"line":19,"column":18},"end":{"line":19,"column":37}},"14":{"start":{"line":21,"column":8},"end":{"line":33,"column":9}},"15":{"start":{"line":22,"column":29},"end":{"line":22,"column":32}},"16":{"start":{"line":23,"column":28},"end":{"line":23,"column":59}},"17":{"start":{"line":24,"column":12},"end":{"line":27,"column":13}},"18":{"start":{"line":25,"column":34},"end":{"line":25,"column":41}},"19":{"start":{"line":26,"column":16},"end":{"line":26,"column":55}},"20":{"start":{"line":28,"column":12},"end":{"line":28,"column":49}},"21":{"start":{"line":31,"column":32},"end":{"line":31,"column":35}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":60}},"23":{"start":{"line":36,"column":8},"end":{"line":50,"column":9}},"24":{"start":{"line":37,"column":25},"end":{"line":37,"column":39}},"25":{"start":{"line":39,"column":12},"end":{"line":44,"column":13}},"26":{"start":{"line":40,"column":16},"end":{"line":40,"column":62}},"27":{"start":{"line":43,"column":16},"end":{"line":43,"column":71}},"28":{"start":{"line":45,"column":12},"end":{"line":45,"column":50}},"29":{"start":{"line":48,"column":32},"end":{"line":48,"column":35}},"30":{"start":{"line":49,"column":12},"end":{"line":49,"column":60}},"31":{"start":{"line":53,"column":23},"end":{"line":53,"column":33}},"32":{"start":{"line":54,"column":8},"end":{"line":67,"column":9}},"33":{"start":{"line":55,"column":28},"end":{"line":55,"column":58}},"34":{"start":{"line":56,"column":12},"end":{"line":57,"column":76}},"35":{"start":{"line":57,"column":16},"end":{"line":57,"column":76}},"36":{"start":{"line":58,"column":12},"end":{"line":61,"column":13}},"37":{"start":{"line":59,"column":34},"end":{"line":59,"column":41}},"38":{"start":{"line":60,"column":16},"end":{"line":60,"column":55}},"39":{"start":{"line":62,"column":12},"end":{"line":62,"column":49}},"40":{"start":{"line":65,"column":32},"end":{"line":65,"column":35}},"41":{"start":{"line":66,"column":12},"end":{"line":66,"column":60}},"42":{"start":{"line":70,"column":23},"end":{"line":70,"column":33}},"43":{"start":{"line":71,"column":25},"end":{"line":71,"column":28}},"44":{"start":{"line":72,"column":8},"end":{"line":85,"column":9}},"45":{"start":{"line":73,"column":28},"end":{"line":73,"column":63}},"46":{"start":{"line":74,"column":12},"end":{"line":75,"column":76}},"47":{"start":{"line":75,"column":16},"end":{"line":75,"column":76}},"48":{"start":{"line":76,"column":12},"end":{"line":79,"column":13}},"49":{"start":{"line":77,"column":34},"end":{"line":77,"column":41}},"50":{"start":{"line":78,"column":16},"end":{"line":78,"column":55}},"51":{"start":{"line":80,"column":12},"end":{"line":80,"column":49}},"52":{"start":{"line":83,"column":32},"end":{"line":83,"column":35}},"53":{"start":{"line":84,"column":12},"end":{"line":84,"column":60}},"54":{"start":{"line":88,"column":23},"end":{"line":88,"column":33}},"55":{"start":{"line":89,"column":8},"end":{"line":101,"column":9}},"56":{"start":{"line":90,"column":28},"end":{"line":90,"column":57}},"57":{"start":{"line":91,"column":12},"end":{"line":95,"column":13}},"58":{"start":{"line":92,"column":37},"end":{"line":92,"column":44}},"59":{"start":{"line":93,"column":34},"end":{"line":93,"column":46}},"60":{"start":{"line":94,"column":16},"end":{"line":94,"column":55}},"61":{"start":{"line":96,"column":12},"end":{"line":96,"column":49}},"62":{"start":{"line":99,"column":32},"end":{"line":99,"column":35}},"63":{"start":{"line":100,"column":12},"end":{"line":100,"column":60}},"64":{"start":{"line":104,"column":0},"end":{"line":104,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":72},"end":{"line":18,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":39}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":27},"end":{"line":34,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":25},"end":{"line":51,"column":5}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":28},"end":{"line":68,"column":5}},"line":52},"6":{"name":"(anonymous_6)","decl":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}},"loc":{"start":{"line":69,"column":27},"end":{"line":86,"column":5}},"line":69},"7":{"name":"(anonymous_7)","decl":{"start":{"line":87,"column":4},"end":{"line":87,"column":5}},"loc":{"start":{"line":87,"column":27},"end":{"line":102,"column":5}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":49}},"type":"default-arg","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":49}}],"line":9},"4":{"loc":{"start":{"line":9,"column":51},"end":{"line":9,"column":70}},"type":"default-arg","locations":[{"start":{"line":9,"column":59},"end":{"line":9,"column":70}}],"line":9},"5":{"loc":{"start":{"line":24,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":27,"column":13}},{"start":{"line":24,"column":12},"end":{"line":27,"column":13}}],"line":24},"6":{"loc":{"start":{"line":39,"column":12},"end":{"line":44,"column":13}},"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":44,"column":13}},{"start":{"line":39,"column":12},"end":{"line":44,"column":13}}],"line":39},"7":{"loc":{"start":{"line":56,"column":12},"end":{"line":57,"column":76}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":57,"column":76}},{"start":{"line":56,"column":12},"end":{"line":57,"column":76}}],"line":56},"8":{"loc":{"start":{"line":58,"column":12},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":58,"column":12},"end":{"line":61,"column":13}},{"start":{"line":58,"column":12},"end":{"line":61,"column":13}}],"line":58},"9":{"loc":{"start":{"line":74,"column":12},"end":{"line":75,"column":76}},"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":75,"column":76}},{"start":{"line":74,"column":12},"end":{"line":75,"column":76}}],"line":74},"10":{"loc":{"start":{"line":76,"column":12},"end":{"line":79,"column":13}},"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":79,"column":13}},{"start":{"line":76,"column":12},"end":{"line":79,"column":13}}],"line":76},"11":{"loc":{"start":{"line":91,"column":12},"end":{"line":95,"column":13}},"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":95,"column":13}},{"start":{"line":91,"column":12},"end":{"line":95,"column":13}}],"line":91}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1,"29":0,"30":0,"31":1,"32":1,"33":1,"34":1,"35":0,"36":1,"37":0,"38":0,"39":1,"40":0,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1,"47":0,"48":1,"49":0,"50":0,"51":1,"52":0,"53":0,"54":1,"55":1,"56":1,"57":1,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":1},"f":{"0":2,"1":1,"2":0,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[0],"4":[1],"5":[0,1],"6":[0,1],"7":[0,1],"8":[0,1],"9":[0,1],"10":[0,1],"11":[0,1]},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Article.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Article.ts"],"names":[],"mappings":";;;;;AACA,8DAA0E;AAC1E,kEAAiD;AAIjD,MAAM,iBAAkB,SAAQ,oBAAmB;IAKjD,YACE,OAAO,GAAG,IAAI,iBAAc,EAAE,EAC9B,KAAK,GAAG,WAAW;QAEnB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnC,KAAK,CAAC,MAAM,CACV,GAA6B,EAC7B,GAAsC;QAEtC,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;YACrB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,OAAO,IAAI,OAAO,EAAE;gBACtB,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;gBAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;aACxC;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,EAAE,OAAO,EAAE,GAAG,GAAY,CAAC;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;IAED,KAAK,CAAC,IAAI,CACR,GAAY,EACZ,GAAwC;QAExC,IAAI;YACF,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAyB,CAAC;YACjD,IAAI,QAAQ,CAAC;YACb,IAAI,CAAC,IAAI,EAAE;gBACT,QAAQ,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/C;iBAAM;gBACL,QAAQ,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;aACxD;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACvC;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,EAAE,OAAO,EAAE,GAAG,GAAY,CAAC;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;IAED,KAAK,CAAC,OAAO,CACX,GAAY,EACZ,GAAsC;QAEtC,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,IAAI;YACF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,OAAO;gBAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,mBAAmB,EAAE,CAAC,CAAC;YAC1E,IAAI,OAAO,IAAI,OAAO,EAAE;gBACtB,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;gBAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;aACxC;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,EAAE,OAAO,EAAE,GAAG,GAAY,CAAC;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CACV,GAA6B,EAC7B,GAAsC;QAEtC,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QACrB,IAAI;YACF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACpD,IAAI,CAAC,OAAO;gBAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,mBAAmB,EAAE,CAAC,CAAC;YAC1E,IAAI,OAAO,IAAI,OAAO,EAAE;gBACtB,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC;gBAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;aACxC;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,EAAE,OAAO,EAAE,GAAG,GAAY,CAAC;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CACV,GAAY,EACZ,GAAsC;QAEtC,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,IAAI;YACF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAY,CAAC;YACzD,IAAI,OAAO,IAAI,OAAO,EAAE;gBACtB,MAAM,YAAY,GAAG,OAAgB,CAAC;gBACtC,MAAM,EAAE,KAAK,EAAE,GAAG,YAA4B,CAAC;gBAC/C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;aACxC;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,EAAE,OAAO,EAAE,GAAG,GAAY,CAAC;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;CACF;AAED,kBAAe,iBAAiB,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport Controller, { RequestWithBody, ResponseError } from './Controller';\nimport ArticleService from '../services/Article';\nimport { Article } from '../interfaces/ArticleInterface';\nimport { ServiceError } from '../services/Service';\n\nclass ArticleController extends Controller<Article> {\n  private $route: string;\n\n  public service: ArticleService;\n\n  constructor(\n    service = new ArticleService(),\n    route = '/articles',\n  ) {\n    super(service);\n    this.$route = route;\n    this.service = service;\n    this.create = this.create.bind(this);\n    this.read = this.read.bind(this);\n    this.readOne = this.readOne.bind(this);\n    this.update = this.update.bind(this);\n    this.delete = this.delete.bind(this);\n  }\n\n  get route() { return this.$route; }\n\n  async create(\n    req: RequestWithBody<Article>,\n    res: Response<Article | ResponseError>,\n  ): Promise<typeof res> {\n    try {\n      const { body } = req;\n      const article = await this.service.create(body);\n      if ('error' in article) {\n        const { error } = article;\n        return res.status(400).json({ error });\n      }\n      return res.status(201).json(article);\n    } catch (err) {\n      const { message } = err as Error;\n      return res.status(500).json({ error: message });\n    }\n  }\n\n  async read (\n    req: Request,\n    res: Response<Article[] | ResponseError>,\n  ): Promise<typeof res> {\n    try {\n      const page = req.query.page as unknown as string;\n      let articles;\n      if (!page) {\n        articles = await this.service.read(undefined);\n      } else {\n        articles = await this.service.read(parseInt(page, 10));\n      }\n      return res.status(200).json(articles);\n    } catch (err) {\n      const { message } = err as Error;\n      return res.status(500).json({ error: message });\n    }\n  }\n\n  async readOne(\n    req: Request,\n    res: Response<Article | ResponseError>,\n  ): Promise<typeof res> {\n    const { id } = req.params;\n    try {\n      const article = await this.service.readOne(id);\n      if (!article) return res.status(404).json({ error: 'Article not found' });\n      if ('error' in article) {\n        const { error } = article;\n        return res.status(400).json({ error });\n      }\n      return res.status(200).json(article);\n    } catch (err) {\n      const { message } = err as Error;\n      return res.status(500).json({ error: message });\n    }\n  }\n\n  async update(\n    req: RequestWithBody<Article>,\n    res: Response<Article | ResponseError>,\n  ): Promise<typeof res> {\n    const { id } = req.params;\n    const { body } = req;\n    try {\n      const article = await this.service.update(id, body);\n      if (!article) return res.status(404).json({ error: 'Article not found' });\n      if ('error' in article) {\n        const { error } = article;\n        return res.status(400).json({ error });\n      }\n      return res.status(200).json(article);\n    } catch (err) {\n      const { message } = err as Error;\n      return res.status(500).json({ error: message });\n    }\n  }\n\n  async delete(\n    req: Request,\n    res: Response<Article | ResponseError>,\n  ): Promise<typeof res> {\n    const { id } = req.params;\n    try {\n      const article = await this.service.delete(id) as Article;\n      if ('error' in article) {\n        const articleError = article as never;\n        const { error } = articleError as ServiceError;\n        return res.status(400).json({ error });\n      }\n      return res.status(204).json(article);\n    } catch (err) {\n      const { message } = err as Error;\n      return res.status(500).json({ error: message });\n    }\n  }\n}\n\nexport default ArticleController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2df5bb457f91a98e04c0ea8ad368e81b06fb95ec"},"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Controller.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":9,"column":48}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":59}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":54}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":51}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":31}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":1},"end":{"line":4,"column":2}},"loc":{"start":{"line":4,"column":29},"end":{"line":9,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":25},"end":{"line":14,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":46}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":19}},{"start":{"line":9,"column":24},"end":{"line":9,"column":45}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Controller.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/controllers/Controller.ts"],"names":[],"mappings":";;AAWA,IAAK,gBAKJ;AALD,WAAK,gBAAgB;IACnB,sDAAkC,CAAA;IAClC,iDAA6B,CAAA;IAC7B,iDAA6B,CAAA;IAC7B,8CAA0B,CAAA;AAC5B,CAAC,EALI,gBAAgB,KAAhB,gBAAgB,QAKpB;AAED,MAAe,UAAU;IAKvB,YAAsB,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;QAF/B,WAAM,GAAG,gBAAgB,CAAC;IAES,CAAC;CA0B/C;AACD,kBAAe,UAAU,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport Service from '../services/Service';\n\nexport type ResponseError = {\n  error: unknown;\n};\n\nexport interface RequestWithBody<T> extends Request {\n  body: T;\n}\n\nenum ControllerErrors {\n  internal = 'Internal Server Error',\n  notFound = 'Object not found',\n  requiredId = 'Id is required',\n  badRequest = 'Bad request',\n}\n\nabstract class Controller<T> {\n  abstract route: string;\n\n  protected errors = ControllerErrors;\n\n  constructor(protected service: Service<T>) { }\n\n  abstract create(\n    req: RequestWithBody<T>,\n    res: Response<T | ResponseError>,\n  ): Promise<typeof res>;\n\n  abstract read (\n    _req: Request,\n    res: Response<T[] | ResponseError>,\n  ): Promise<typeof res>;\n\n  abstract readOne(\n    req: Request,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res>;\n\n  abstract update(\n    req: RequestWithBody<T>,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res>;\n\n  abstract delete(\n    req: Request,\n    res: Response<T | ResponseError>\n  ): Promise<typeof res>;\n}\nexport default Controller;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3f68fe4ae814d43faa00acf7e627e7766762435f"},"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Article.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Article.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":27},"end":{"line":6,"column":68}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":18},"end":{"line":8,"column":75}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},"7":{"start":{"line":12,"column":8},"end":{"line":22,"column":10}},"8":{"start":{"line":13,"column":34},"end":{"line":13,"column":81}},"9":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"10":{"start":{"line":15,"column":16},"end":{"line":15,"column":72}},"11":{"start":{"line":17,"column":33},"end":{"line":17,"column":66}},"12":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"13":{"start":{"line":19,"column":16},"end":{"line":19,"column":56}},"14":{"start":{"line":21,"column":12},"end":{"line":21,"column":42}},"15":{"start":{"line":23,"column":8},"end":{"line":26,"column":10}},"16":{"start":{"line":24,"column":33},"end":{"line":24,"column":55}},"17":{"start":{"line":25,"column":12},"end":{"line":25,"column":32}},"18":{"start":{"line":27,"column":8},"end":{"line":33,"column":10}},"19":{"start":{"line":28,"column":34},"end":{"line":28,"column":81}},"20":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"21":{"start":{"line":30,"column":16},"end":{"line":30,"column":72}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":46}},"23":{"start":{"line":34,"column":8},"end":{"line":37,"column":10}},"24":{"start":{"line":35,"column":35},"end":{"line":35,"column":56}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":34}},"26":{"start":{"line":40,"column":0},"end":{"line":40,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":49},"end":{"line":38,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":22},"end":{"line":12,"column":23}},"loc":{"start":{"line":12,"column":37},"end":{"line":22,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":23},"end":{"line":23,"column":24}},"loc":{"start":{"line":23,"column":37},"end":{"line":26,"column":9}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":22},"end":{"line":27,"column":23}},"loc":{"start":{"line":27,"column":41},"end":{"line":33,"column":9}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":22},"end":{"line":34,"column":23}},"loc":{"start":{"line":34,"column":36},"end":{"line":37,"column":9}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":47}},"type":"default-arg","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":47}}],"line":10},"4":{"loc":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},{"start":{"line":14,"column":12},"end":{"line":16,"column":13}}],"line":14},"5":{"loc":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},{"start":{"line":18,"column":12},"end":{"line":20,"column":13}}],"line":18},"6":{"loc":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},{"start":{"line":29,"column":12},"end":{"line":31,"column":13}}],"line":29}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":1},"f":{"0":2,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Article.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Article.ts"],"names":[],"mappings":";;;;;AAAA,qEAAwE;AACxE,wDAAkD;AAClD,4EAAyD;AAEzD,MAAM,cAAe,SAAQ,iBAAgB;IAC3C,YAAY,KAAK,GAAG,IAAI,iBAAY,EAAE;QACpC,KAAK,CAAC,KAAK,CAAC,CAAC;QAGf,WAAM,GAAG,KAAK,EAAE,GAAY,EAAmC,EAAE;YAC/D,MAAM,aAAa,GAAG,gCAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC1B,OAAO,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;aACzD;YACD,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YACvD,IAAI,YAAY,EAAE;gBAChB,OAAO,EAAE,KAAK,EAAE,qBAAqB,EAAC,CAAC;aACxC;YACD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,YAAO,GAAG,KAAK,EAAE,EAAU,EAA0C,EAAE;YACrE,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC5C,OAAO,YAAY,CAAC;QACtB,CAAC,CAAC;QAEF,WAAM,GAAG,KAAK,EAAE,EAAU,EAAE,GAAY,EAA0C,EAAE;YAClF,MAAM,aAAa,GAAG,gCAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC1B,OAAO,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;aACzD;YACD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QACpC,CAAC,CAAC;QAEF,WAAM,GAAG,KAAK,EAAE,EAAU,EAA0C,EAAE;YACpE,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC7C,OAAO,cAAc,CAAC;QACxB,CAAC,CAAC;IA9BF,CAAC;CA+BF;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import { Article, ArticleSchema } from '../interfaces/ArticleInterface';\nimport Service, { ServiceError } from './Service';\nimport ArticleModel from '../../database/models/Article';\n\nclass ArticleService extends Service<Article> {\n  constructor(model = new ArticleModel()) {\n    super(model);\n  }\n\n  create = async (obj: Article): Promise<Article | ServiceError> => {\n    const parsedArticle = ArticleSchema.safeParse(obj);\n    if (!parsedArticle.success) {\n      return { error: parsedArticle.error.issues[0].message };\n    }\n    const articleFound = await this.model.readById(obj.id);\n    if (articleFound) {\n      return { error: 'Already in database'};\n    }\n    return this.model.create(obj);\n  };\n\n  readOne = async (id: string): Promise<Article | ServiceError | null> => {\n    const articleFound = this.model.readOne(id);\n    return articleFound;\n  };\n\n  update = async (id: string, obj: Article): Promise<Article | ServiceError | null> => {\n    const parsedArticle = ArticleSchema.safeParse(obj);\n    if (!parsedArticle.success) {\n      return { error: parsedArticle.error.issues[0].message };\n    }\n    return this.model.update(id, obj);\n  };\n\n  delete = async (id: string): Promise<Article | ServiceError | null> => {\n    const articleDeleted = this.model.delete(id);\n    return articleDeleted;\n  };\n}\n\nexport default ArticleService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7a76b0a661e9ca46baf7c04a31a611f5eca449b3"},"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Service.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":38}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":37}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":39}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":38}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":42}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":37}},"8":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":23},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":22},"end":{"line":9,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":21},"end":{"line":12,"column":5}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":23},"end":{"line":15,"column":5}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":22},"end":{"line":18,"column":5}},"line":16},"5":{"name":"(anonymous_5)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":26},"end":{"line":21,"column":5}},"line":19},"6":{"name":"(anonymous_6)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":21},"end":{"line":24,"column":5}},"line":22}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Service.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/api/services/Service.ts"],"names":[],"mappings":";;AAOA,MAAe,OAAO;IACpB,YAAsB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;IAAI,CAAC;IAEnC,KAAK,CAAC,MAAM,CAAC,GAAM;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,IAAwB;QACxC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAU;QAC9B,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IACjC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,GAAM;QAEpC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;IACpC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAU;QAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;CACF;AAED,kBAAe,OAAO,CAAC","sourcesContent":["import { ZodError } from 'zod';\nimport { Model } from '../interfaces/ModelInterface';\n\nexport interface ServiceError { \n  error: ZodError | string;\n}\n\nabstract class Service<T> { \n  constructor(protected model: Model<T>) { }\n\n  public async create(obj: T): Promise<T | null | ServiceError> {\n    return this.model.create(obj);\n  }\n\n  public async read(page: number | undefined): Promise<T[]> {\n    return this.model.read(page);\n  }\n\n  public async readById(id: number): Promise<T | null | ServiceError> {\n    return this.model.readById(id);\n  }\n\n  public async readOne(id: string): Promise<T | null | ServiceError> {\n    return this.model.readOne(id);\n  }\n\n  public async update(id: string, obj: T): \n  Promise<T | null | ServiceError | null> {\n    return this.model.update(id, obj);\n  }\n\n  public async delete(id: string): Promise<T | null | ServiceError> {\n    return this.model.delete(id);\n  }\n}\n\nexport default Service;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"164d9ae9e44a5f64b0975dcea5f252f0ccb0e788"},"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/Article.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/Article.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":38}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":0},"end":{"line":20,"column":26}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},"8":{"start":{"line":26,"column":0},"end":{"line":26,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":82},"end":{"line":24,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":80}},"type":"default-arg","locations":[{"start":{"line":22,"column":24},"end":{"line":22,"column":80}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/Article.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/Article.ts"],"names":[],"mappings":";;;;;;AAAA,uCAAwD;AAExD,8DAAsC;AAEzB,QAAA,aAAa,GAAG,IAAI,iBAAM,CACrC;IACE,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACpC,QAAQ,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC3C,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACvC,GAAG,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACrC,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACzC,WAAW,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC7C,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;IACtC,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;CACrC,EACD,EAAE,UAAU,EAAE,KAAK,EAAE,CACtB,CAAC;AAEF,MAAM,YAAa,SAAQ,oBAAmB;IAC5C,YAAY,KAAK,GAAG,IAAA,gBAAW,EAAC,UAAU,EAAE,qBAAa,CAAC;QACxD,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;CACF;AAED,kBAAe,YAAY,CAAC","sourcesContent":["import { Schema, model as createModel } from 'mongoose';\nimport { Article } from '../../api/interfaces/ArticleInterface';\nimport MongoModel from './MongoModel';\n\nexport const ArticleSchema = new Schema<Article>(\n  {\n    id: { type: Number, required: true },\n    featured: { type: Boolean, required: true },\n    title: { type: String, required: true },\n    url: { type: String, required: true },\n    imageUrl: { type: String, required: true },\n    newsSite: { type: String, required: true },\n    summary: { type: String, required: true },\n    publishedAt: { type: String, required: true },\n    launches: { type: [], required: true },\n    events: { type: [], required: true },\n  },\n  { versionKey: false },\n);\n\nclass ArticleModel extends MongoModel<Article> {\n  constructor(model = createModel('Articles', ArticleSchema)) {\n    super(model);\n  }\n}\n\nexport default ArticleModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6e42453054c8440c1733e8c8d3692c4ecbb42c14"},"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/MongoModel.ts":{"path":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/MongoModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":67}},"3":{"start":{"line":6,"column":37},"end":{"line":6,"column":66}},"4":{"start":{"line":7,"column":8},"end":{"line":11,"column":10}},"5":{"start":{"line":8,"column":12},"end":{"line":9,"column":41}},"6":{"start":{"line":9,"column":16},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":61}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":65}},"9":{"start":{"line":12,"column":38},"end":{"line":12,"column":64}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":61}},"11":{"start":{"line":13,"column":37},"end":{"line":13,"column":60}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":94}},"13":{"start":{"line":14,"column":41},"end":{"line":14,"column":93}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":69}},"15":{"start":{"line":15,"column":36},"end":{"line":15,"column":68}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":23},"end":{"line":16,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":37},"end":{"line":6,"column":66}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":20},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":36},"end":{"line":11,"column":9}},"line":7},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":24},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":64}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":24}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":60}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":22},"end":{"line":14,"column":23}},"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":93}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":22},"end":{"line":15,"column":23}},"loc":{"start":{"line":15,"column":36},"end":{"line":15,"column":68}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":12},"end":{"line":9,"column":41}},"type":"if","locations":[{"start":{"line":8,"column":12},"end":{"line":9,"column":41}},{"start":{"line":8,"column":12},"end":{"line":9,"column":41}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/MongoModel.ts","sources":["/home/budi/Documents/coodesh-challenge/Challenge-Coodesh-Back-End/src/database/models/MongoModel.ts"],"names":[],"mappings":";;AAGA,MAAe,UAAU;IACvB,YAAsB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;QAEjC,WAAM,GAAG,KAAK,EAAE,GAAM,EAAc,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;QAErE,SAAI,GAAG,KAAK,EAAE,IAAwB,EAAgB,EAAE;YACtD,IAAG,CAAC,IAAI;gBAAE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACnC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAA;QAED,aAAQ,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAE/E,YAAO,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAChD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE1B,WAAM,GAAG,KAAK,EAAE,EAAU,EAAE,GAAM,EAAqB,EAAE,CACvD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;QAEvD,WAAM,GAAG,KAAK,EAAE,EAAU,EAAqB,EAAE,CAC/C,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;IAlBE,CAAC;CAmBvC;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Model as M } from 'mongoose';\nimport { Model } from '../../api/interfaces/ModelInterface';\n\nabstract class MongoModel<T> implements Model<T> {\n  constructor(protected model: M<T>) { }\n\n  create = async (obj: T): Promise<T> => this.model.create({ ...obj });\n\n  read = async (page: number | undefined): Promise<T[]> => {\n    if(!page) return this.model.find();\n    return this.model.find().skip(page * 5).limit(5);\n  }\n\n  readById = async (id: number): Promise<T | null> => this.model.findOne({ id });\n\n  readOne = async (id: string): Promise<T | null> =>\n    this.model.findById(id);\n\n  update = async (id: string, obj: T): Promise<T | null> =>\n    this.model.findByIdAndUpdate(id, obj, { new: true });\n\n  delete = async (id: string): Promise<T | null> =>\n    this.model.findByIdAndDelete(id);\n}\n\nexport default MongoModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"765db2532403749783cfe3878d138979323ad324"}}